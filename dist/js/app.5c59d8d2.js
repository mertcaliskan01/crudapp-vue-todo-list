(function(e){function t(t){for(var s,r,o=t[0],i=t[1],l=t[2],d=0,u=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);b&&b(t);while(u.length)u.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],s=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(s=!1)}s&&(c.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},n={app:0},c=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-170ab3cb":"d88a72d0","chunk-2d0b5f74":"060ad27f","chunk-2d0d03d6":"191cac42","chunk-2d0da42d":"5256572e"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={"chunk-170ab3cb":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-170ab3cb":"7035ecbe","chunk-2d0b5f74":"31d6cfe0","chunk-2d0d03d6":"31d6cfe0","chunk-2d0da42d":"31d6cfe0"}[e]+".css",n=i.p+s,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var l=c[o],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===n))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],d=l.getAttribute("data-href");if(d===s||d===n)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var s=t&&t.target&&t.target.src||n,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=s,delete r[e],b.parentNode.removeChild(b),a(c)},b.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){r[e]=0})));var s=n[e];if(0!==s)if(s)t.push(s[2]);else{var c=new Promise((function(t,a){s=n[e]=[t,a]}));t.push(s[2]=c);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=o(e);var u=new Error;l=function(t){d.onerror=d.onload=null,clearTimeout(b);var a=n[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",u.name="ChunkLoadError",u.type=s,u.request=r,a[1](u)}n[e]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var b=d;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"427a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("7a23");const r={id:"app"},n={class:"navbar navbar-expand navbar-dark bg-dark"},c=Object(s["g"])("a",{href:"/",class:"navbar-brand"},"Todo List",-1),o={class:"navbar-nav mr-auto"},i={class:"nav-item"},l={key:0,class:"nav-item"},d={key:0,class:"navbar-nav ml-auto"},u={class:"nav-item"},b={class:"nav-item"},m={key:1,class:"navbar-nav ml-auto"},g={class:"nav-item"},p={class:"nav-item"},h={class:"vh-100 gradient-custom"};function j(e,t,a,j,O,f){const v=Object(s["E"])("font-awesome-icon"),k=Object(s["E"])("router-link"),w=Object(s["E"])("router-view");return Object(s["x"])(),Object(s["f"])("div",r,[Object(s["g"])("nav",n,[c,Object(s["g"])("div",o,[Object(s["g"])("li",i,[Object(s["i"])(k,{to:"/home",class:"nav-link"},{default:Object(s["Q"])(()=>[Object(s["i"])(v,{icon:"home"}),Object(s["h"])(" Home ")]),_:1})]),f.showTaskList?(Object(s["x"])(),Object(s["f"])("li",l,[Object(s["i"])(k,{to:"/tasks",class:"nav-link"},{default:Object(s["Q"])(()=>[Object(s["i"])(v,{icon:"tasks"}),Object(s["h"])(" TodoList")]),_:1})])):Object(s["e"])("",!0)]),f.currentUser?Object(s["e"])("",!0):(Object(s["x"])(),Object(s["f"])("div",d,[Object(s["g"])("li",u,[Object(s["i"])(k,{to:"/register",class:"nav-link"},{default:Object(s["Q"])(()=>[Object(s["i"])(v,{icon:"user-plus"}),Object(s["h"])(" Sign Up ")]),_:1})]),Object(s["g"])("li",b,[Object(s["i"])(k,{to:"/login",class:"nav-link"},{default:Object(s["Q"])(()=>[Object(s["i"])(v,{icon:"sign-in-alt"}),Object(s["h"])(" Login ")]),_:1})])])),f.currentUser?(Object(s["x"])(),Object(s["f"])("div",m,[Object(s["g"])("li",g,[Object(s["i"])(k,{to:"/profile",class:"nav-link"},{default:Object(s["Q"])(()=>[Object(s["i"])(v,{icon:"user"}),Object(s["h"])(" "+Object(s["H"])(f.currentUser.first_name),1)]),_:1})]),Object(s["g"])("li",p,[Object(s["g"])("a",{class:"nav-link",onClick:t[0]||(t[0]=Object(s["T"])((...e)=>f.logOut&&f.logOut(...e),["prevent"]))},[Object(s["i"])(v,{icon:"sign-out-alt"}),Object(s["h"])(" LogOut ")])])])):Object(s["e"])("",!0)]),Object(s["g"])("div",h,[Object(s["i"])(w)])])}a("14d9");var O={computed:{currentUser(){return this.$store.state.auth.user},showTaskList(){return!(!this.currentUser||!this.currentUser.token)}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}},f=a("6b0d"),v=a.n(f);const k=v()(O,[["render",j]]);var w=k,y=a("6605");const x={class:"container-fluid h-custom"},P={class:"container py-5 h-100"},S={class:"card bg-dark text-white fadeInDown",style:{"border-radius":"1rem"}},E={class:"card-body p-5 text-center"};function _(e,t,a,r,n,c){return Object(s["x"])(),Object(s["f"])("div",x,[Object(s["g"])("div",P,[Object(s["g"])("div",S,[Object(s["g"])("div",E,[Object(s["g"])("h3",null,[Object(s["g"])("strong",null,Object(s["H"])(n.content),1)])])])])])}var T={name:"Home",data(){return{content:"Home Page"}},mounted(){}};const I=v()(T,[["render",_]]);var L=I;const M={class:"container-fluid h-custom"},q={class:"row d-flex justify-content-center align-items-center h-100"},A=Object(s["g"])("div",{class:"col-md-8 col-lg-6 col-xl-4"},[Object(s["g"])("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",class:"img-fluid",alt:"Sample image"})],-1),F={class:"col-md-8 col-lg-6 col-xl-4 offset-xl-1 wrapper fadeInDown"},U={class:"container py-5 h-100"},H={class:"card bg-dark text-white",style:{"border-radius":"1rem"}},$={class:"card-body p-5 text-center"},C={class:"mb-md-5 mt-md-4 pb-5"},N=Object(s["g"])("h2",{class:"fw-bold mb-2 text-uppercase"},"Login",-1),Q=Object(s["g"])("p",{class:"text-white-50 mb-5"}," Please enter your login and password! ",-1),B={class:"form-group"},D=Object(s["g"])("label",{for:"email"},"Email",-1),R={class:"form-group"},J=Object(s["g"])("label",{for:"password"},"Password",-1),K={class:"form-group"},z=["disabled"],G={class:"spinner-border spinner-border-sm"},V=Object(s["g"])("span",null,"Login",-1),W={class:"form-group"},X={key:0,class:"alert alert-danger",role:"alert"},Y={class:"mb-0"};function Z(e,t,a,r,n,c){const o=Object(s["E"])("Field"),i=Object(s["E"])("ErrorMessage"),l=Object(s["E"])("Form"),d=Object(s["E"])("router-link");return Object(s["x"])(),Object(s["f"])("div",M,[Object(s["g"])("div",q,[A,Object(s["g"])("div",F,[Object(s["g"])("div",U,[Object(s["g"])("div",H,[Object(s["g"])("div",$,[Object(s["g"])("div",C,[N,Q,Object(s["g"])("div",null,[Object(s["i"])(l,{onSubmit:c.handleLogin,"validation-schema":n.schema},{default:Object(s["Q"])(()=>[Object(s["g"])("div",B,[D,Object(s["i"])(o,{name:"email",type:"text",class:"form-control"}),Object(s["i"])(i,{name:"email",class:"error-feedback text-danger"})]),Object(s["g"])("div",R,[J,Object(s["i"])(o,{name:"password",type:"password",class:"form-control"}),Object(s["i"])(i,{name:"password",class:"error-feedback text-danger"})]),Object(s["g"])("div",K,[Object(s["g"])("button",{class:"btn btn-primary btn-block",disabled:n.loading},[Object(s["R"])(Object(s["g"])("span",G,null,512),[[s["M"],n.loading]]),V],8,z)]),Object(s["g"])("div",W,[n.message?(Object(s["x"])(),Object(s["f"])("div",X,Object(s["H"])(n.message),1)):Object(s["e"])("",!0)])]),_:1},8,["onSubmit","validation-schema"])])]),Object(s["g"])("div",null,[Object(s["g"])("p",Y,[Object(s["i"])(d,{to:"/register",class:"text-white-50 fw-bold"},{default:Object(s["Q"])(()=>[Object(s["h"])("Don't have an account?")]),_:1})])])])])])])])])}var ee=a("7bb1"),te=a("506a"),ae={name:"Login",components:{Form:ee["c"],Field:ee["b"],ErrorMessage:ee["a"]},data(){const e=te["a"]().shape({email:te["b"]().required("Email is required!"),password:te["b"]().required("Password is required!")});return{loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{handleLogin(e){this.loading=!0,this.$store.dispatch("auth/login",e).then(()=>{this.$router.push("/profile")},e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()})}}};const se=v()(ae,[["render",Z]]);var re=se;const ne={class:"container-fluid h-custom"},ce={class:"row d-flex justify-content-center align-items-center h-100"},oe=Object(s["g"])("div",{class:"col-md-8 col-lg-6 col-xl-4"},[Object(s["g"])("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",class:"img-fluid",alt:"Sample image"})],-1),ie={class:"col-md-8 col-lg-6 col-xl-4 offset-xl-1 wrapper fadeInDown"},le={class:"container py-5 h-100"},de={class:"card bg-dark text-white",style:{"border-radius":"1rem"}},ue={class:"card-body p-5 text-center"},be={class:"mb-md-5 mt-md-4 pb-5"},me=Object(s["g"])("h2",{class:"fw-bold mb-2 text-uppercase mb-5"},"Sign Up",-1),ge={key:0},pe={class:"form-group"},he=Object(s["g"])("label",{for:"first_name"},"Name",-1),je={class:"form-group"},Oe=Object(s["g"])("label",{for:"last_name"},"Surname",-1),fe={class:"form-group"},ve=Object(s["g"])("label",{for:"email"},"Email",-1),ke={class:"form-group"},we=Object(s["g"])("label",{for:"password"},"Password",-1),ye={class:"form-group"},xe=["disabled"],Pe={class:"spinner-border spinner-border-sm"},Se={class:"mb-0"};function Ee(e,t,a,r,n,c){const o=Object(s["E"])("Field"),i=Object(s["E"])("ErrorMessage"),l=Object(s["E"])("Form"),d=Object(s["E"])("router-link");return Object(s["x"])(),Object(s["f"])("div",ne,[Object(s["g"])("div",ce,[oe,Object(s["g"])("div",ie,[Object(s["g"])("div",le,[Object(s["g"])("div",de,[Object(s["g"])("div",ue,[Object(s["g"])("div",be,[me,Object(s["g"])("div",null,[Object(s["i"])(l,{onSubmit:c.handleRegister,"validation-schema":n.schema},{default:Object(s["Q"])(()=>[n.successful?Object(s["e"])("",!0):(Object(s["x"])(),Object(s["f"])("div",ge,[Object(s["g"])("div",pe,[he,Object(s["i"])(o,{name:"first_name",type:"text",class:"form-control"}),Object(s["i"])(i,{name:"first_name",class:"error-feedback text-danger"})]),Object(s["g"])("div",je,[Oe,Object(s["i"])(o,{name:"last_name",type:"text",class:"form-control"}),Object(s["i"])(i,{name:"last_name",class:"error-feedback text-danger"})]),Object(s["g"])("div",fe,[ve,Object(s["i"])(o,{name:"email",type:"email",class:"form-control"}),Object(s["i"])(i,{name:"email",class:"error-feedback text-danger"})]),Object(s["g"])("div",ke,[we,Object(s["i"])(o,{name:"password",type:"password",class:"form-control"}),Object(s["i"])(i,{name:"password",class:"error-feedback text-danger"})]),Object(s["g"])("div",ye,[Object(s["g"])("button",{class:"btn btn-primary btn-block",disabled:n.loading},[Object(s["R"])(Object(s["g"])("span",Pe,null,512),[[s["M"],n.loading]]),Object(s["h"])(" Sign Up ")],8,xe)])]))]),_:1},8,["onSubmit","validation-schema"]),n.message?(Object(s["x"])(),Object(s["f"])("div",{key:0,class:Object(s["r"])(["alert",n.successful?"alert-success":"alert-danger"])},Object(s["H"])(n.message),3)):Object(s["e"])("",!0)])]),Object(s["g"])("div",null,[Object(s["g"])("p",Se,[Object(s["i"])(d,{to:"/login",class:"text-white-50 fw-bold"},{default:Object(s["Q"])(()=>[Object(s["h"])("Already have an account?")]),_:1})])])])])])])])])}var _e={name:"Register",components:{Form:ee["c"],Field:ee["b"],ErrorMessage:ee["a"]},data(){const e=te["a"]().shape({first_name:te["b"]().required("Username is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),last_name:te["b"]().required("Surname is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),email:te["b"]().required("Email is required!").email("Email is invalid!").max(50,"Must be maximum 50 characters!"),password:te["b"]().required("Password is required!").min(6,"Must be at least 6 characters!").max(40,"Must be maximum 40 characters!")});return{successful:!1,loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},mounted(){this.loggedIn&&this.$router.push("/profile")},methods:{handleRegister(e){this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",e).then(()=>{this.message="Success",this.successful=!0,this.loading=!1},e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.successful=!1,this.loading=!1})}}};const Te=v()(_e,[["render",Ee]]);var Ie=Te;const Le=()=>a.e("chunk-2d0d03d6").then(a.bind(null,"66aa")),Me=()=>a.e("chunk-170ab3cb").then(a.bind(null,"8e02")),qe=()=>a.e("chunk-2d0da42d").then(a.bind(null,"6b9d")),Ae=()=>a.e("chunk-2d0b5f74").then(a.bind(null,"1ac1")),Fe=[{path:"/",name:"home",component:L,meta:{title:"Home"}},{path:"/home",component:L,meta:{title:"Home"}},{path:"/login",component:re,meta:{title:"Sign In"}},{path:"/register",component:Ie,meta:{title:"Sign Up"}},{path:"/profile",name:"profile",meta:{title:"Profile"},component:Le},{path:"/tasks",name:"tasks",meta:{title:"Todo List"},component:Me},{path:"/newTask",name:"newTask",meta:{title:"New Todo"},component:qe},{path:"/editTask/:id",name:"editTask",meta:{title:"Edit Todo"},component:Ae}],Ue=Object(y["a"])({history:Object(y["b"])(),routes:Fe});Ue.beforeEach((e,t,a)=>{document.title=""+e.meta.title,a()}),Ue.beforeEach((e,t,a)=>{const s=["/login","/register","/home"],r=!s.includes(e.path),n=localStorage.getItem("user");r&&!n?a("/login"):a()});var He=Ue,$e=a("5502"),Ce=a("bc3a"),Ne=Ce["a"].create({baseURL:"https://node-jwt-todo-api.herokuapp.com/",headers:{"Content-Type":"application/json"}});class Qe{login(e){return Ne.post("login",{email:e.email,password:e.password}).then(e=>(e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data))}logout(){localStorage.removeItem("user")}register(e){return Ne.post("register",{first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password})}}var Be=new Qe;const De=JSON.parse(localStorage.getItem("user")),Re=De?{status:{loggedIn:!0},user:De}:{status:{loggedIn:!1},user:null},Je={namespaced:!0,state:Re,actions:{login({commit:e},t){return Be.login(t).then(t=>(e("loginSuccess",t),Promise.resolve(t)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e}){Be.logout(),e("logout")},register({commit:e},t){return Be.register(t).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}}};class Ke{getAll(){return Ne.get("api/tasks")}get(e){return Ne.get("api/tasks/"+e)}create(e){return Ne.post("api/tasks",e)}update(e,t){return Ne.put("api/tasks/"+e,t)}delete(e){return Ne.delete("api/tasks/"+e)}deleteAll(){return Ne.delete("api/tasks/")}findByTitle(e){return Ne.get("api/tasks?title="+e)}}var ze=new Ke;const Ge={namespaced:!0,actions:{getAll(){return ze.getAll().then(e=>Promise.resolve(e),e=>Promise.reject(e))},deleteAll(){return ze.deleteAll().then(()=>{},e=>Promise.reject(e))},findByTitle(e,t){return ze.findByTitle(t).then(e=>Promise.resolve(e),e=>Promise.reject(e))},create(e,t){return ze.create(t).then(e=>Promise.resolve(e),e=>Promise.reject(e))},get(e,t){return ze.get(t).then(e=>Promise.resolve(e),e=>Promise.reject(e))},update(e,t){return ze.update(t.id,t).then(e=>Promise.resolve(e),e=>Promise.reject(e))},delete(e,t){return ze.delete(t).then(e=>Promise.resolve(e),e=>Promise.reject(e))}}},Ve=Object($e["a"])({modules:{auth:Je,task:Ge}});var We=Ve,Xe=(a("4989"),a("ab8b"),a("be33")),Ye=a("ad3d"),Ze=a("11ca");Xe["c"].add(Ze["b"],Ze["e"],Ze["f"],Ze["g"],Ze["c"],Ze["d"],Ze["a"],Ze["h"]);a("427a");Object(s["c"])(w).use(He).use(We).component("font-awesome-icon",Ye["a"]).mount("#app")}});
//# sourceMappingURL=app.5c59d8d2.js.map